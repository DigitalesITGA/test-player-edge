<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test PfP IMA SDK</title>

    <!-- Bootstrap -->
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous"> -->
</head>

<body>

    <div class="container">

        <div class="row">
            <div class="col my-3">
                <div class="ratio ratio-16x9">
                    <div id="pfp-container">
                        <iframe width="560" height="315" src="https://www.youtube.com/embed/YtbI6C1iKmY?si=DNozc39aJRBqKKGu" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!-- <script src="//imasdk.googleapis.com/js/sdkloader/ima3.js"></script> -->
    <script src="https://imasdk.googleapis.com/js/sdkloader/ima3_debug.js"></script>
    <script src="https://www.youtube.com/iframe_api?ima=1"></script>

    <script>
        var adsTagUrl = 'https://pubads.g.doubleclick.net/gampad/ads?' + 'iu=/21775744923/external/single_ad_samples&sz=640x480&' + 'cust_params=sample_ct%3Dlinear&ciu_szs=300x250%2C728x90&gdfp_req=1&' + 'output=vast&unviewed_position_start=1&env=vp&impl=s&correlator=';

        function makeAdsRequest(adsRequest, adsRenderingSettings) {
            //Required 
            adsRequest.adTagUrl = adsTagUrl;

            //Recommended
            adsRenderingsettings.useStyledNonLinearAds = true;

            //Optional:youcanalsoupdateotherpropertiesof
            //theAdsRequest.

            //Optional:youcanalsoupdatetheadsRenderingSettings
            //objectifneeded. 
            adsRenderingsettings.uiElements = [
                window.google.ima.UiElements.AD_ATTRIBUTION,
                window.google.ima.UiElements.COUNTDOWN
            ];
        }
    </script>

    <script>
        let player;
        let imaManager;
        //Youcanuseacallbackfunctionifyouwanttodosome
        //customizationaftertheplayerisinstantiatedoryou
        //wanthandlestotheplayerandIMAmanager. 
        function onPlayerReady(plyr, ima) {
            player = plyr;
            imaManager = ima;
        }
    </script>

    <script>
        function onYouTubeIframeAPIReady() {
            YT.createPlayerForPublishers(
                'pfp-container',
                makeAdsRequest, {
                    youtubeOptions: {
                        videoId: 'YtbI6C1iKmY',
                        height: "360px",
                        //Ifyouwanttheplayerandadtoresponsivelyresize
                        //whenthepagechangessize,setthewidthtoa
                        //percentage.Otherwise,setittoapixelvalue. 
                        width: "100%",
                    }
                },
                onPlayerReady
            );
        }
    </script>

    <!-- <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
        integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
        crossorigin="anonymous"></script> -->

</body>

</html>